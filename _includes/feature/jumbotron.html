{% comment %}

    Bootstrap Jumbotron, https://getbootstrap.com/docs/5.1/examples/jumbotron/
    This include adds a Jumbotron feature from an objectid.

    E.G. --> {% include feature/jumbotron.html objectid="demo_001" %}

    Options:
    - "objectid" = one objectid for a photo object in this collection, a relative path to an image in this project, or a full url to any image. If left blank, by default this the image will be the featured-image set in theme.yml.
    - "position" = set background-position, "center", "top", "bottom"
    - "heading" = major heading to display. By default this will be the site title. Give the value false for no heading.
    - "text" = paragraph text below heading. By default this will be the site tagline. Give the value false for no text.
    - "padding" = additional padding added to the feature to increase size. Give value in em or px, e.g. "5em".

    Note: if using a YouTube item and an error image appears, the video may not have a "maxresdefault" image available. Replace "maxresdefault.jpg" in the code below with "hqdefault.jpg"

{%- endcomment -%}
{% assign jumbo_div_id = "j-" | append: include.objectid | slugify | truncate: 12, "" %}
{% assign jumboId = include.objectid | default: site.data.theme.featured-image %}
{% if jumboId contains '/' %}
{% assign jumboSrc = jumboId | relative_url %}
{% else %}
{% assign jumboItem = site.data[site.metadata] | where: "objectid", jumboId | first %}
{% if jumboItem.youtubeid %}
{% assign jumboSrc = 'https://img.youtube.com/vi/' | append: jumboItem.youtubeid | append: '/maxresdefault.jpg' %}
{% elsif jumboItem.filename contains '/' %}
{% assign jumboSrc = jumboItem.filename | relative_url %}
{% else %}
{% assign jumboSrc = jumboItem.filename | prepend: '/objects/' | relative_url %}
{%- endif -%}
{%- endif -%}

<style>
.jumbotron {
    padding: 4rem 2rem;
    margin-bottom: 2rem;
    background-color: #e9ecef;
    border-radius: 0.3rem;
}   
#{{ jumbo_div_id }} {
    background-image: url({{ jumboSrc }});
    background-size: cover;
    background-repeat: no-repeat;
    background-position: {{ include.position | default: 'center' }};
}
{% if include.padding %}
.jumbo-title-box {
    padding-top: {{ include.padding }};
    padding-bottom: {{ include.padding }};
}
{%- endif -%}
@media screen and (max-width: 576px) {
    .jumbo-title-box {
        max-height: 500px; 
    }
    .jumbo-tagline { font-size:.85em; }
}
</style>
<div class="jumbotron feature px-0 border" id="{{ jumbo_div_id }}">
    <div class="jumbo-title-box">
        {% unless include.heading == false and include.text == false %}
        <div class="p-2 text-center text-white bg-dark bg-opacity-75">
            <svg class="site-logo" width="217" height="31" focusable="false" viewbox="0 0 207 44">
                <g fill="#FFF" fill-rule="evenodd"><path d="M19 36.382v-29h3.73v25.846H30v3.154zM37 36.382v-29h7.154l1.736 11.672 1.061 14.1h1.134l1.026-14.1 1.771-11.672h7.012l.106 29h-3.506v-8.52L54.92 10.5h-1.558l-1.736 17.507-1.487 8.302h-5.313l-1.416-8.302L41.533 10.5h-1.522l.53 17.29v8.592z"></path><path fill-opacity=".7" d="M96 43.382h4v-43h-4z"></path><path d="M117 36.382v-29h3.73v25.846H128v3.154zM135 36.382v-29h11v3.154h-7.334v9.643h6.956v3.153h-6.956v9.896H146v3.154zM154.136 36.382l-2.136-29h3.489l.676 11.491.713 14.39h1.46l.676-14.39 1.53-11.31h5.875l1.531 11.31.677 14.39h1.46l.711-14.39.713-11.491H175l-2.173 29h-6.799l-.962-9.136-.854-16.638h-1.425l-.89 16.638-.96 9.136zM182 36.382h4v-29h-4zM200.39 37.15c-2.116 0-3.65-.429-4.6-1.289-.952-.858-1.462-2.292-1.534-4.3a38.983 38.983 0 01-.055-2.633c.012-.835.055-3.655.127-4.598l3.32 1.931a87.538 87.538 0 00-.09 2.994c-.013.956.018 1.894.09 2.813.048.775.283 1.318.704 1.633.42.315 1.101.472 2.039.472.89 0 1.54-.157 1.95-.472.408-.315.636-.858.684-1.633.072-.75.103-1.555.09-2.413a48.817 48.817 0 00-.09-2.414c-.024-.848-.222-1.506-.595-1.978-.373-.47-.933-.805-1.678-.998l-2.346-.545c-1.588-.386-2.683-1.058-3.284-2.014-.602-.955-.927-2.341-.975-4.156v-2.196c0-.737.012-1.492.037-2.267.072-1.985.582-3.405 1.533-4.265.95-.858 2.508-1.288 4.674-1.288 2.069 0 3.573.43 4.512 1.288.938.86 1.443 2.294 1.515 4.3.024.703.03 1.483.018 2.342-.012.86-.03 3.67-.053 4.563l-3.393-1.931c.048-1.04.072-2.002.072-2.887 0-.882-.013-1.76-.037-2.63-.024-.75-.246-1.282-.667-1.597-.421-.315-1.09-.472-2.003-.472-.89 0-1.546.157-1.967.472-.422.315-.656.847-.704 1.598a43.737 43.737 0 00-.072 2.484c0 .811.024 1.641.072 2.486.024.92.168 1.61.433 2.07.265.46.722.775 1.371.943l2.166.471c1.78.389 3.026 1.071 3.736 2.05.71.982 1.1 2.366 1.173 4.157.023.678.03 1.398.017 2.16-.012.761-.03 1.482-.053 2.16-.072 2.008-.584 3.442-1.534 4.3-.95.86-2.485 1.289-4.602 1.289M69.353 27.632V13.807a2.725 2.725 0 012.714-2.728 2.725 2.725 0 012.713 2.728v13.825h-5.427zm2.714-20.168c-3.48 0-6.309 2.845-6.309 6.343V36.86h3.595v-5.612h5.427v5.612h3.596V13.807c0-3.498-2.83-6.343-6.31-6.343zM3.595 27.632V13.807A2.725 2.725 0 016.31 11.08a2.726 2.726 0 012.714 2.728v13.825H3.595zM6.31 7.464c-3.479 0-6.31 2.845-6.31 6.343V36.86h3.596v-5.612h5.428v5.612h3.595V13.807c0-3.498-2.83-6.343-6.309-6.343z"></path></g>
            </svg>
            {% unless include.heading == false %}<h2 class="display-4">{{ include.heading | default: site.title }}</h2>{% endunless %}
            {% unless include.text == false %}<p class="jumbo-tagline">{{ include.text | default: site.tagline }}</p>{% endunless %}
        </div>
        {% endunless %}
    </div>
</div>
